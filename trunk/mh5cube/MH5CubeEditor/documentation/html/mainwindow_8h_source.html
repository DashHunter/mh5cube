<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Qube5 Editor: mainwindow.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>mainwindow.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"># This file is part of the Qube5-Editor.</span>
<a name="l00003"></a>00003 <span class="comment">#</span>
<a name="l00004"></a>00004 <span class="comment"># Qube5-Editor allows you to create figures and animations for the LED-Qube5.</span>
<a name="l00005"></a>00005 <span class="comment"># For more information about the LED-Qube5 and this program, see &lt;http://www.qube-solutions.de&gt;</span>
<a name="l00006"></a>00006 <span class="comment"># Copyright (C) 2009 Christian Strobel</span>
<a name="l00007"></a>00007 <span class="comment">#</span>
<a name="l00008"></a>00008 <span class="comment"># This program is free software: you can redistribute it and/or modify</span>
<a name="l00009"></a>00009 <span class="comment"># it under the terms of the GNU General Public License as published by</span>
<a name="l00010"></a>00010 <span class="comment"># the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00011"></a>00011 <span class="comment"># (at your option) any later version.</span>
<a name="l00012"></a>00012 <span class="comment">#</span>
<a name="l00013"></a>00013 <span class="comment"># This program is distributed in the hope that it will be useful,</span>
<a name="l00014"></a>00014 <span class="comment"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00015"></a>00015 <span class="comment"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00016"></a>00016 <span class="comment"># GNU General Public License for more details.</span>
<a name="l00017"></a>00017 <span class="comment">#</span>
<a name="l00018"></a>00018 <span class="comment"># You should have received a copy of the GNU General Public License</span>
<a name="l00019"></a>00019 <span class="comment"># along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00020"></a>00020 <span class="comment">*/</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef MAINWINDOW_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define MAINWINDOW_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;QtGui/QMainWindow&gt;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;cubewidgetgl.h&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;cubepreview.h&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;cubepreviewdelegate.h&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;cubecommunication.h&quot;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;QGridLayout&gt;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="keyword">namespace </span>Ui
<a name="l00035"></a>00035 {
<a name="l00036"></a>00036     <span class="keyword">class </span>MainWindowClass;
<a name="l00037"></a>00037 }
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 
<a name="l00041"></a>00041 
<a name="l00069"></a><a class="code" href="class_main_window.html">00069</a> <span class="keyword">class </span><a class="code" href="class_main_window.html" title="MainWindow.">MainWindow</a> : <span class="keyword">public</span> QMainWindow
<a name="l00070"></a>00070 {
<a name="l00071"></a>00071     Q_OBJECT
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 <span class="keyword">public</span>:
<a name="l00074"></a>00074     <a class="code" href="class_main_window.html" title="MainWindow.">MainWindow</a>(QWidget *parent = 0);
<a name="l00075"></a>00075     ~<a class="code" href="class_main_window.html" title="MainWindow.">MainWindow</a>();
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 <span class="keyword">public</span> slots:
<a name="l00078"></a>00078     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#a41fc891bf1074486e916a436f92e07f5" title="Updates the states in the Model after CubeWidgetGL has changed states.">statesChanged</a>(QBitArray *states);
<a name="l00079"></a>00079     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#a7bbd6e6f1f35c69f8f19814dc1110cc9" title="Add an empty Figure after the last selected item.">FigureAdd</a>();
<a name="l00080"></a>00080     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#a617aafcbaaecf1f99fe924f3087efd8b" title="Insert an empty figure after the current selection.">FigureInsert</a>();
<a name="l00081"></a>00081     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#a1d5bcfa0aaeb1de13f21dd77e3678dbc" title="Clone the selected figure, insert them after the selected item.">FigureClone</a>();
<a name="l00082"></a>00082     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#ae701110383ff6049f461e114832c9731" title="Moves the selected figure up by one index.">FigureMoveUp</a>();
<a name="l00083"></a>00083     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#ac3514e0ef3b3ce92aff9f18d06f01e79" title="Moves the selected figure down by one index.">FigureMoveDown</a>();
<a name="l00084"></a>00084     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#a2449193e4da09f6844abac3a45ccf182" title="Deletes the selected figures.">FigureDelete</a>();
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#a99f3c63267a503c150da67468e62b5b1" title="Copy the current selected Data to the CubeWidget for displaying and editing.">CopyFigureToCube</a>(QModelIndex,QModelIndex);
<a name="l00087"></a>00087     <span class="keywordtype">void</span> generateOutput();
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a3c4c091c172cf6b392b1274fc0d3ccd9" title="Prepare Data from the Model, checks if the device is connected, initiates programming...">prepareProgramming</a>();
<a name="l00090"></a>00090     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a204bab25c90a2e3ae1a59addfc050d40" title="Called after programming has failed.">failedProgramming</a>();
<a name="l00091"></a>00091     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a1184f6823b37e211e1fdc70f90322ac6" title="Called after successful programming.">successProgramming</a>();
<a name="l00092"></a>00092     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a8c3d3784f5a36225fe5679b10f7ede45" title="Called after opening Com Port failed.">failedOpeningCOMPort</a>(QString COMPortName);
<a name="l00093"></a>00093     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a75731b996aedaa456091c6cba7ff204a" title="Called after opening Com Port was successful.">successOpeningCOMPort</a>(QString COMPortName);
<a name="l00094"></a>00094     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#aa4dc5069a1e002846ae0c9252ac9b3a2" title="Called after finding Qube has failed.">failedFindingCube</a>(QString COMPortName);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a49be45fc9b993fdc3afe55d4b6fa0650" title="Saves the current Window-Layout.">writeSettings</a>();
<a name="l00097"></a>00097     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a06476208b8466211f3bb0fcae787052b" title="Reads the current Window-Layout and restores it.">readSettings</a>();
<a name="l00098"></a>00098     <span class="keywordtype">void</span> defaultSettings();
<a name="l00099"></a>00099     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a595fd3f60139b137bf8b125d0f87f79f" title="Selects all Figures in the List.">selectAll</a>();
<a name="l00100"></a>00100 
<a name="l00101"></a>00101     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a0982131e174f9d44f7f66f0f91ec0db6" title="Creates a new File.">FileNew</a>();
<a name="l00102"></a>00102     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#ad3c8c49bff5b1a4a9e248c8ced53385f" title="Saves figures to currentFileName.">FileSave</a>();
<a name="l00103"></a>00103     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#ad787511566a21252a5fd62364a234f5d" title="Saves figures to a File, creates a backup if file exists.">FileSaveAs</a>();
<a name="l00104"></a>00104     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a6b7a70a1696522a08c2aca169c42deb1" title="Opens a data-file.">FileOpen</a>();
<a name="l00105"></a>00105     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a62fae90d50680123ebf3c72dac9c6987" title="Appends a data-file to the end of the list.">FileAppend</a>();
<a name="l00106"></a>00106 
<a name="l00107"></a>00107     <span class="keywordtype">void</span> About();
<a name="l00108"></a>00108 
<a name="l00109"></a>00109     <span class="keywordtype">void</span> openFile(); <span class="comment">//Not used</span>
<a name="l00110"></a>00110     <span class="keywordtype">void</span> saveFile(); <span class="comment">//Not used</span>
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 <span class="keyword">private</span>:
<a name="l00113"></a><a class="code" href="class_main_window.html#afc1b0999c7c224e1422f744655c8bd74">00113</a>     <a class="code" href="class_cube_widget_g_l.html" title="This class renders a 3D Model of the Qube5 in OpenGL and acts as an Editor for a...">CubeWidgetGL</a> *<a class="code" href="class_main_window.html#afc1b0999c7c224e1422f744655c8bd74" title="This object is used as centralWidget (Editor).">cubeWidget</a>;           
<a name="l00114"></a><a class="code" href="class_main_window.html#ad35dc80aa42f1ec85404b3f3cbf43f81">00114</a>     <a class="code" href="class_cube_widget_g_l.html" title="This class renders a 3D Model of the Qube5 in OpenGL and acts as an Editor for a...">CubeWidgetGL</a> *<a class="code" href="class_main_window.html#ad35dc80aa42f1ec85404b3f3cbf43f81" title="This object is used for rendering the Preview-Icons, not displayed anywhere.">cubeWidgetPreview</a>;    
<a name="l00115"></a><a class="code" href="class_main_window.html#a61eee5c1f5665552693a0b083dad6b61">00115</a>     <a class="code" href="class_cube_communication.html" title="This class, CubeCommunication is used to interact with the Qube.">CubeCommunication</a> *<a class="code" href="class_main_window.html#a61eee5c1f5665552693a0b083dad6b61" title="This object handles the communication with the Qube.">cubeCommunication</a>; 
<a name="l00116"></a>00116 
<a name="l00117"></a>00117     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a7f250491611ad2b436b8921f129ff990" title="Creates the Data Model, connects it to the tableView and adds the first figure.">CreateModel</a>(<span class="keywordtype">void</span>);
<a name="l00118"></a>00118     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#ae04099d3448fb16af6ff0af46486e747" title="Sets up a StatusBar for the MainWindow and adds some permanent Widgets to it.">CreateStatusBar</a>(<span class="keywordtype">void</span>);
<a name="l00119"></a>00119 
<a name="l00120"></a>00120     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#a9cf373df6cb3d51fff1e2d70285b42bd" title="Get Data from a Figure-Entry at a certain row.">GetFigureData</a>(<span class="keywordtype">int</span> selectedRow, QPixmap &amp;preview, QBitArray &amp;states, QString &amp;description, <span class="keywordtype">int</span> &amp;time);
<a name="l00121"></a>00121     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#a4f3079518b4f34f1c24161b585ba1f1c" title="Set the Data for a Figure-Entry in the Model at a certain row */.">SetFigureData</a>(<span class="keywordtype">int</span> selectedRow, QPixmap preview, QBitArray states, QString description, <span class="keywordtype">int</span> time);
<a name="l00122"></a>00122 
<a name="l00123"></a>00123     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#a7249c31004b696d0824d80d3b07794f6" title="Creates an empty Figure at a given Row.">CreateEmptyFigure</a>(<span class="keywordtype">int</span> Row);
<a name="l00124"></a>00124     <span class="keywordtype">int</span> <a class="code" href="class_main_window.html#ac81caa7e9ac5d6d10d0fbbdfb1c769b7" title="Creates a Figure at the given Row and fills it with given Data.">CreateFigureFromData</a>(<span class="keywordtype">int</span> Row, QPixmap preview, QBitArray states, QString description, <span class="keywordtype">int</span> time);
<a name="l00125"></a>00125 
<a name="l00126"></a>00126     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#ad382b0ed7b477002d617bf55df6e095c" title="Saves Binary Data to fileName.">saveBinFile</a>(QString fileName);
<a name="l00127"></a>00127     <span class="keywordtype">void</span> <a class="code" href="class_main_window.html#a0a0379e9bbc942a44f570ccc14c158e2" title="Reads Binary Data from fileName and fills the tableView with it.">openBinFile</a>(<span class="keywordtype">bool</span> appendMode);
<a name="l00128"></a>00128 
<a name="l00129"></a><a class="code" href="class_main_window.html#a2c7d093d0b6ef94a006c055868612862">00129</a>     Ui::MainWindowClass *<a class="code" href="class_main_window.html#a2c7d093d0b6ef94a006c055868612862" title="UserInterface from mainwindow.ui.">ui</a>;            
<a name="l00130"></a><a class="code" href="class_main_window.html#aa1a1f8ce9c37a7ac70d21402759638b3">00130</a>     QStandardItemModel *<a class="code" href="class_main_window.html#aa1a1f8ce9c37a7ac70d21402759638b3" title="holds the Data for ui-&amp;gt;tableView">model</a>;          
<a name="l00131"></a><a class="code" href="class_main_window.html#a0ec1b043c01f087dcd13275299353b3b">00131</a>     QItemSelectionModel *<a class="code" href="class_main_window.html#a0ec1b043c01f087dcd13275299353b3b" title="used to retrieve the current selections of ui-&amp;gt;tableView">selectionModel</a>; 
<a name="l00132"></a><a class="code" href="class_main_window.html#a5a120f34596e3eb2dabb20eb592d926b">00132</a>     QBitArray *<a class="code" href="class_main_window.html#a5a120f34596e3eb2dabb20eb592d926b" title="holds temporary States of one figure">tempStates</a>;              
<a name="l00133"></a><a class="code" href="class_main_window.html#a31b6e8430974f9a2e468bbb5e15cca4a">00133</a>     QString <a class="code" href="class_main_window.html#a31b6e8430974f9a2e468bbb5e15cca4a" title="holds the full path of the current file">currentFileName</a>;            
<a name="l00134"></a>00134 
<a name="l00135"></a>00135     <span class="comment">//StatusBar Items</span>
<a name="l00136"></a><a class="code" href="class_main_window.html#abfc57fe7e893c3876a0315495796049f">00136</a>     QPushButton *<a class="code" href="class_main_window.html#abfc57fe7e893c3876a0315495796049f" title="permanentWidget in MainWindow::statusBar()">pushButtonLiveMode</a>;    
<a name="l00137"></a><a class="code" href="class_main_window.html#a902348299fd08d583d3c4f4ea144e9ae">00137</a>     QPushButton *<a class="code" href="class_main_window.html#a902348299fd08d583d3c4f4ea144e9ae" title="permanentWidget in MainWindow::statusBar()">pushButtonConnect</a>;     
<a name="l00138"></a><a class="code" href="class_main_window.html#a9fabe808b7e4f15419de6c40868d114b">00138</a>     QPushButton *<a class="code" href="class_main_window.html#a9fabe808b7e4f15419de6c40868d114b" title="permanentWidget in MainWindow::statusBar()">pushButtonProgram</a>;     
<a name="l00139"></a><a class="code" href="class_main_window.html#af4baf971a46f7479125ccf392877bb46">00139</a>     QWidget *<a class="code" href="class_main_window.html#af4baf971a46f7479125ccf392877bb46" title="permanentWidget in nWindow::statusBar(), used as a Container for labelCOMPort and...">widgetConnection</a>;          
<a name="l00140"></a><a class="code" href="class_main_window.html#af871cf2ae3a4d454157079c1070956da">00140</a>     QLabel *<a class="code" href="class_main_window.html#af871cf2ae3a4d454157079c1070956da" title="permanentWidget in MainWindow::statusBar()">labelCOMPort</a>;               
<a name="l00141"></a><a class="code" href="class_main_window.html#a8a7337c5c25666c8124ef0ba4c77068f">00141</a>     QComboBox *<a class="code" href="class_main_window.html#a8a7337c5c25666c8124ef0ba4c77068f" title="permanentWidget in MainWindow::statusBar()">comboCOMPort</a>;            
<a name="l00142"></a><a class="code" href="class_main_window.html#ab30ccd27b470eb7d9688ceef9d78e174">00142</a>     QProgressBar *<a class="code" href="class_main_window.html#ab30ccd27b470eb7d9688ceef9d78e174" title="permanentWidget in MainWindow::statusBar()">programmProgressBar</a>;  
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 signals:
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 };
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 <span class="preprocessor">#endif // MAINWINDOW_H</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Thu Sep 17 15:58:33 2009 for Qube5 Editor by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
